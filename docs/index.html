<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ² D&D Character Forge - Personajes, Bestiario y Encuentros</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>ğŸ² D&D Character Forge ğŸ›¡ï¸</h1>
      <p class="subtitle">Generador de Personajes, Bestiario y Encuentros para Dragones y Mazmorras 5e</p>
      <a href="https://github.com/JCazorla90/dnd-nft-generator" class="github-link" target="_blank">
        â­ Ver en GitHub
      </a>
    </header>

    <main class="layout">
      <!-- PANEL DE GENERACIÃ“N DE PERSONAJE -->
      <section class="card generator-panel">
        <h2>âš”ï¸ Crear Personaje</h2>

        <div class="generation-mode">
          <button id="randomBtn" class="btn btn-primary">ğŸ² Generar Aleatorio</button>
          <button id="toggleCustom" class="btn btn-secondary">âœï¸ Personalizar</button>
        </div>

        <div id="customPanel" class="custom-panel hidden">
          <h3>Personalizar Personaje</h3>

          <div class="form-grid">
            <div class="form-group">
              <label for="charName">Nombre del Personaje:</label>
              <input type="text" id="charName" placeholder="Ej: Thorin Escudo de Roble">
            </div>

            <div class="form-group">
              <label for="raceSelect">Raza:</label>
              <select id="raceSelect"></select>
            </div>

            <div class="form-group">
              <label for="classSelect">Clase:</label>
              <select id="classSelect"></select>
            </div>

            <div class="form-group">
              <label for="backgroundSelect">Trasfondo:</label>
              <select id="backgroundSelect"></select>
            </div>

            <div class="form-group">
              <label for="alignmentSelect">Alineamiento:</label>
              <select id="alignmentSelect"></select>
            </div>
          </div>

          <button id="customGenerateBtn" class="btn btn-success full-width">
            âš”ï¸ Crear Personaje
          </button>
        </div>

        <hr class="section-divider">

        <div class="actions-row">
          <button id="downloadBtn" class="btn btn-secondary">ğŸ“„ Descargar PDF</button>
          <button id="shareBtn" class="btn btn-secondary">ğŸ“¤ Compartir</button>
          <button id="mintNFTBtn" class="btn btn-warning">ğŸª™ Mintear NFT (demo)</button>
          <button id="newCharBtn" class="btn btn-ghost">ğŸ§¹ Limpiar ficha</button>
        </div>
      </section>

      <!-- HISTORIAL -->
      <section class="card history-card">
        <h2>ğŸ•’ Historial de Personajes</h2>
        <p class="card-help">Se guardan hasta los Ãºltimos 10 personajes en este navegador.</p>
        <ul id="historyList" class="history-list">
          <li class="history-empty">TodavÃ­a no hay personajes guardados.</li>
        </ul>
      </section>

      <!-- FICHA DEL PERSONAJE -->
      <section id="characterSheet" class="card character-sheet hidden">
        <h2>ğŸ“œ Ficha de Personaje</h2>

        <div class="info-section">
          <h3>ğŸ§¾ InformaciÃ³n BÃ¡sica</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">Nombre:</span>
              <span id="displayName" class="value">-</span>
            </div>
            <div class="info-item">
              <span class="label">Raza:</span>
              <span id="displayRace" class="value">-</span>
            </div>
            <div class="info-item">
              <span class="label">Clase:</span>
              <span id="displayClass" class="value">-</span>
            </div>
            <div class="info-item">
              <span class="label">Nivel:</span>
              <span id="displayLevel" class="value">1</span>
            </div>
            <div class="info-item">
              <span class="label">Trasfondo:</span>
              <span id="displayBackground" class="value">-</span>
            </div>
            <div class="info-item">
              <span class="label">Alineamiento:</span>
              <span id="displayAlignment" class="value">-</span>
            </div>
          </div>
        </div>

        <div class="info-section">
          <h3>â­ Nivel de poder & historia</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">Nivel de poder:</span>
              <span id="displayPowerLevel" class="value">-</span>
            </div>
            <div class="info-item">
              <span class="label">Historia breve:</span>
              <span id="displayBackstory" class="value">-</span>
            </div>
          </div>
        </div>

        <div class="info-section">
          <h3>ğŸ§¬ CaracterÃ­sticas</h3>
          <div class="stats-grid">
            <div class="stat">
              <span class="stat-label">FUE</span>
              <span id="statStr" class="stat-score">10</span>
              <span id="modStr" class="stat-mod">+0</span>
            </div>
            <div class="stat">
              <span class="stat-label">DES</span>
              <span id="statDex" class="stat-score">10</span>
              <span id="modDex" class="stat-mod">+0</span>
            </div>
            <div class="stat">
              <span class="stat-label">CON</span>
              <span id="statCon" class="stat-score">10</span>
              <span id="modCon" class="stat-mod">+0</span>
            </div>
            <div class="stat">
              <span class="stat-label">INT</span>
              <span id="statInt" class="stat-score">10</span>
              <span id="modInt" class="stat-mod">+0</span>
            </div>
            <div class="stat">
              <span class="stat-label">SAB</span>
              <span id="statWis" class="stat-score">10</span>
              <span id="modWis" class="stat-mod">+0</span>
            </div>
            <div class="stat">
              <span class="stat-label">CAR</span>
              <span id="statCha" class="stat-score">10</span>
              <span id="modCha" class="stat-mod">+0</span>
            </div>
          </div>
        </div>

        <div class="info-section">
          <h3>âš”ï¸ Combate</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">Puntos de Golpe:</span>
              <span id="displayHP" class="value">-</span>
            </div>
            <div class="info-item">
              <span class="label">Clase de Armadura:</span>
              <span id="displayAC" class="value">-</span>
            </div>
            <div class="info-item">
              <span class="label">Velocidad:</span>
              <span id="displaySpeed" class="value">-</span>
            </div>
            <div class="info-item">
              <span class="label">Iniciativa:</span>
              <span id="displayInit" class="value">+0</span>
            </div>
          </div>
        </div>

        <div class="info-section">
          <h3>ğŸ›¡ï¸ Salvaciones y Habilidades</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">Salvaciones:</span>
              <span id="displaySavingThrows" class="value">-</span>
            </div>
            <div class="info-item">
              <span class="label">Habilidades:</span>
              <span id="displaySkills" class="value">-</span>
            </div>
          </div>
        </div>

        <div class="info-section">
          <h3>ğŸ’ Equipo Inicial</h3>
          <ul id="equipment" class="traits-list"></ul>
        </div>

        <div class="info-section">
          <h3>ğŸ’¼ Trasfondo: <span id="backgroundName"></span></h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">Competencias:</span>
              <span id="backgroundSkills" class="value">-</span>
            </div>
            <div class="info-item">
              <span class="label">Rasgo:</span>
              <span id="backgroundFeature" class="value">-</span>
            </div>
          </div>
          <h4 class="subsection-title">Equipo de trasfondo</h4>
          <ul id="backgroundEquipment" class="traits-list"></ul>
        </div>

        <div class="info-section">
          <h3>ğŸ­ Rasgos Raciales</h3>
          <ul id="racialTraits" class="traits-list"></ul>
        </div>

        <div class="info-section">
          <h3>ğŸ“ Competencias de Clase</h3>
          <ul id="classProficiencies" class="traits-list"></ul>
        </div>

        <div class="info-section">
          <h3>âœ¨ CaracterÃ­sticas de Clase</h3>
          <ul id="classFeatures" class="traits-list"></ul>
        </div>
      </section>

      <!-- BESTIARIO -->
      <section class="card bestiary-card">
        <h2>ğŸ“š Bestiario</h2>
        <p class="card-help">Genera enemigos rÃ¡pidos para tus encuentros.</p>

        <div class="form-grid">
          <div class="form-group">
            <label for="monsterTypeFilter">Tipo:</label>
            <select id="monsterTypeFilter">
              <option value="">Cualquiera</option>
              <option value="Bestia">Bestia</option>
              <option value="Humanoide">Humanoide</option>
              <option value="No-muerto">No-muerto</option>
              <option value="Monstruosidad">Monstruosidad</option>
              <option value="DragÃ³n">DragÃ³n</option>
              <option value="Gigante">Gigante</option>
            </select>
          </div>
          <div class="form-group">
            <label for="monsterEnvFilter">Entorno:</label>
            <select id="monsterEnvFilter">
              <option value="">Cualquiera</option>
              <option value="Bosque">Bosque</option>
              <option value="Mazmorra">Mazmorra</option>
              <option value="MontaÃ±a">MontaÃ±a</option>
              <option value="Pantano">Pantano</option>
              <option value="Urbano">Urbano</option>
              <option value="Llanura">Llanura</option>
            </select>
          </div>
          <div class="form-group">
            <label for="monsterCRFilter">CR:</label>
            <select id="monsterCRFilter">
              <option value="">Todos</option>
              <option value="0-1">0 - 1</option>
              <option value="2-3">2 - 3</option>
              <option value="4-5">4 - 5</option>
              <option value="6-10">6 - 10</option>
              <option value="11+">11+</option>
            </select>
          </div>
        </div>

        <button id="generateMonsterBtn" class="btn btn-primary full-width">ğŸ‘¹ Generar Criatura</button>

        <p id="monsterEmptyMsg" class="card-help">TodavÃ­a no has generado ninguna criatura.</p>

        <div id="monsterCard" class="monster-card hidden">
          <h3 id="displayMonsterName">-</h3>
          <p class="monster-subtitle">
            <span id="displayMonsterType">â€“</span> Â·
            CR <span id="displayMonsterCR">â€“</span> Â·
            <span id="displayMonsterXP">â€“</span> XP
          </p>

          <div class="info-grid">
            <div class="info-item">
              <span class="label">CA:</span>
              <span id="displayMonsterAC" class="value">-</span>
            </div>
            <div class="info-item">
              <span class="label">Puntos de golpe:</span>
              <span id="displayMonsterHP" class="value">-</span>
            </div>
            <div class="info-item">
              <span class="label">Velocidad:</span>
              <span id="displayMonsterSpeed" class="value">-</span>
            </div>
            <div class="info-item">
              <span class="label">Alineamiento:</span>
              <span id="displayMonsterAlignment" class="value">-</span>
            </div>
            <div class="info-item">
              <span class="label">Entornos:</span>
              <span id="displayMonsterEnv" class="value">-</span>
            </div>
          </div>

          <div class="info-section">
            <h4>CaracterÃ­sticas</h4>
            <div id="monsterStats" class="stats-grid stats-grid-compact"></div>
          </div>

          <div class="info-section">
            <h4>Rasgos</h4>
            <ul id="monsterTraits" class="traits-list"></ul>
          </div>

          <div class="info-section">
            <h4>Acciones</h4>
            <ul id="monsterActions" class="traits-list"></ul>
          </div>
        </div>
      </section>

      <!-- ENCUENTROS -->
      <section class="card encounter-card">
        <h2>âš”ï¸ Generador de Encuentros</h2>
        <p class="card-help">Calcula encuentros rÃ¡pidos segÃºn el nivel del grupo.</p>

        <div class="form-grid">
          <div class="form-group">
            <label for="partyLevel">Nivel del grupo:</label>
            <input type="number" id="partyLevel" min="1" max="20" value="3">
          </div>
          <div class="form-group">
            <label for="partySize">TamaÃ±o del grupo:</label>
            <input type="number" id="partySize" min="1" max="8" value="4">
          </div>
          <div class="form-group">
            <label for="encounterDifficulty">Dificultad:</label>
            <select id="encounterDifficulty">
              <option value="easy">FÃ¡cil</option>
              <option value="medium" selected>Media</option>
              <option value="hard">DifÃ­cil</option>
              <option value="deadly">Mortal</option>
            </select>
          </div>
        </div>

        <button id="generateEncounterBtn" class="btn btn-primary full-width">
          âš”ï¸ Generar Encuentro
        </button>

        <div id="encounterResult" class="encounter-result hidden">
          <p id="encounterSummary" class="encounter-summary"></p>
          <ul id="encounterList" class="encounter-list"></ul>
        </div>
      </section>
    </main>

    <footer>
      <p>ğŸ² D&D NFT Character Forge | <a href="https://github.com/JCazorla90/dnd-nft-generator">GitHub</a></p>
      <p>Sistema de Referencia D&D 5e | Creado con â¤ï¸ por la comunidad</p>
    </footer>
  </div>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="data/dnd-data.js"></script>
  <script src="data/dnd-monsters.js"></script>
  <script src="app.js"></script>
</body>
</html>
