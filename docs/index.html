<!DOCTYPE html>
<html lang="es">
<head>
ย ย <meta charset="UTF-8">
ย ย <meta name="viewport" content="width=device-width, initial-scale=1.0">
ย ย <title>D&D Character Forge - Generador รpico NFT</title>
ย ยย
ย ย <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700;900&family=Marck+Script&family=MedievalSharp&display=swap" rel="stylesheet">
ย ยย
ย ย <link rel="stylesheet" href="styles.css">
ย ยย
ย ย <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
ย ยย
ย ย <script src="https://cdn.ethers.io/lib/ethers-5.7.2.umd.min.js"></script>
</head>
<body>
ย ย <header class="main-header">
ย ย ย ย <div class="header-decoration">โ๏ธ</div>
ย ย ย ย <div class="header-content">
ย ย ย ย ย ย <h1 class="main-title">D&D Character Forge</h1>
ย ย ย ย ย ย <p class="subtitle">Generador รpico de Personajes, Bestiario y Encuentros</p>
ย ย ย ย </div>
ย ย ย ย <div class="header-decoration">๐</div>
ย ย </header>

ย ย <div class="container">
ย ย ย ยย
ย ย ย ย <section class="edition-selector">
ย ย ย ย ย ย <label for="editionSelect">๐ Reglas:</label>
ย ย ย ย ย ย <select id="editionSelect">
ย ย ย ย ย ย ย ย <option value="5e" selected>D&D 5e</option>
ย ย ย ย ย ย ย ย <option value="3.5e">D&D 3.5e</option>
ย ย ย ย ย ย </select>
ย ย ย ย </section>

ย ย ย ย <section class="generator-section">
ย ย ย ย ย ย <h2 class="section-title"><span class="title-decoration">โ๏ธ</span> Forja de Hรฉroes NFT <span class="title-decoration">โ๏ธ</span></h2>

ย ย ย ย ย ย <div class="controls-grid">
ย ย ย ย ย ย ย ย <button id="randomBtn" class="btn btn-primary btn-large">
ย ย ย ย ย ย ย ย ย ย ๐ฒ RANDOM <span class="btn-subtitle">Aventurero Rรกpido</span>
ย ย ย ย ย ย ย ย </button>
ย ย ย ย ย ย ย ย <button id="chaosCharacterBtn" class="btn btn-accent btn-large"> ย ย ย ย ย ย ย ย ย ย ๐ CHAOS <span class="btn-subtitle">ยกStats al Lรญmite!</span>
ย ย ย ย ย ย ย ย </button>
ย ย ย ย ย ย </div>

ย ย ย ย ย ย <div class="custom-panel-toggle">
ย ย ย ย ย ย ย ย <button id="toggleCustomBtn" class="btn btn-gold full-width">โ๏ธ Personalizar Opciones</button>
ย ย ย ย ย ย </div>

ย ย ย ย ย ย <div id="customPanel" class="custom-panel hidden">
ย ย ย ย ย ย ย ย <div class="custom-grid">
ย ย ย ย ย ย ย ย ย ย <div class="form-group"><label>Nombre</label><input type="text" id="charName" placeholder="Ej: Valerius"></div>
ย ย ย ย ย ย ย ย ย ย <div class="form-group"><label>Raza</label><select id="raceSelect"><option value="">Aleatorio</option></select></div>
ย ย ย ย ย ย ย ย ย ย <div class="form-group"><label>Clase</label><select id="classSelect"><option value="">Aleatorio</option></select></div>
ย ย ย ย ย ย ย ย ย ย <div class="form-group"><label>Trasfondo</label><select id="backgroundSelect"><option value="">Aleatorio</option></select></div>
ย ย ย ย ย ย ย ย ย ย <div class="form-group"><label>Alineamiento</label><select id="alignmentSelect"><option value="">Aleatorio</option></select></div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <button id="customGenerateBtn" class="btn btn-primary full-width">โจ Forjar Hรฉroe</button>
ย ย ย ย ย ย </div>
ย ย ย ย </section>

ย ย ย ย <div id="characterSheet" class="character-sheet hidden">
ย ย ย ย ย ย <div class="sheet-header">
ย ย ย ย ย ย ย ย <h2 id="displayName" class="character-name">Nombre del Hรฉroe</h2>
ย ย ย ย ย ย ย ย <div class="character-subtitle">
ย ย ย ย ย ย ย ย ย ย <span id="displayRace">Raza</span> <span class="separator">โข</span>ย
ย ย ย ย ย ย ย ย ย ย <span id="displayClass">Clase</span> <span class="separator">โข</span>ย
ย ย ย ย ย ย ย ย ย ย Nivel <span id="displayLevel">1</span>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <div class="character-meta">
ย ย ย ย ย ย ย ย ย ย <span id="displayBackground">Trasfondo</span> <span class="separator">|</span>ย
ย ย ย ย ย ย ย ย ย ย <span id="displayAlignment">Alineamiento</span>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>

ย ย ย ย ย ย <div class="character-visual">
ย ย ย ย ย ย ย ย <div class="portrait-frame"><img id="aiPortrait" src="" alt="Retrato"><button id="regenPortrait" class="regen-btn" title="Regenerar Imagen">๐</button></div>
ย ย ย ย ย ย </div>

ย ย ย ย ย ย <div id="nftSection" class="nft-section hidden">
ย ย ย ย ย ย ย ย <h3 class="section-subtitle">๐ ESTADO NFT <span id="nftRarity" class="rarity-badge"></span></h3>
ย ย ย ย ย ย ย ย <div class="nft-stats">
ย ย ย ย ย ย ย ย ย ย <p>ID Simulado: <strong id="nftTokenID">--</strong></p>
ย ย ย ย ย ย ย ย ย ย <p>Bonus Raro: <strong id="nftBonus">--</strong></p>
ย ย ย ย ย ย ย ย ย ย <p>Blockchain: <strong id="nftBlockchain">Ethereum (Simulado)</strong></p>
ย ย ย ย ย ย ย ย ย ย <p id="nftShinyFoil" class="shiny-foil-text"></p>
ย ย ย ย ย ย ย ย ย ย <p>Rasgo Especial: <strong id="nftSpecialTrait">--</strong></p>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <button id="mintNFTBtn" class="btn btn-gold full-width">โจ Mint NFT</button>
ย ย ย ย ย ย </div>
ย ย ย ย ย ย <div class="power-level-container">
ย ย ย ย ย ย ย ย <div class="power-bar-bg"><div id="powerBar" class="power-bar-fill"></div></div>
ย ย ย ย ย ย ย ย <div id="powerLevel" class="power-level-text">โญ Novato</div>
ย ย ย ย ย ย </div>

ย ย ย ย ย ย <div class="abilities-section">
ย ย ย ย ย ย ย ย <div class="ability-scores-grid">
ย ย ย ย ย ย ย ย ย ย <div class="ability-shield"><div class="ability-name">FUE</div><div id="statStr" class="ability-value">10</div><div id="modStr" class="ability-modifier">+0</div></div>
ย ย ย ย ย ย ย ย ย ย <div class="ability-shield"><div class="ability-name">DES</div><div id="statDex" class="ability-value">10</div><div id="modDex" class="ability-modifier">+0</div></div>
ย ย ย ย ย ย ย ย ย ย <div class="ability-shield"><div class="ability-name">CON</div><div class="ability-value" id="statCon">10</div><div id="modCon" class="ability-modifier">+0</div></div>
ย ย ย ย ย ย ย ย ย ย <div class="ability-shield"><div class="ability-name">INT</div><div class="ability-value" id="statInt">10</div><div id="modInt" class="ability-modifier">+0</div></div>
ย ย ย ย ย ย ย ย ย ย <div class="ability-shield"><div class="ability-name">SAB</div><div class="ability-value" id="statWis">10</div><div id="modWis" class="ability-modifier">+0</div></div>
ย ย ย ย ย ย ย ย ย ย <div class="ability-shield"><div class="ability-name">CAR</div><div class="ability-value" id="statCha">10</div><div id="modCha" class="ability-modifier">+0</div></div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>

ย ย ย ย ย ย <div class="combat-stats-grid">
ย ย ย ย ย ย ย ย <div class="combat-stat"><div class="stat-icon">โค๏ธ</div><div class="stat-label">HP</div><div id="displayHP" class="stat-value">10</div></div>
ย ย ย ย ย ย ย ย <div class="combat-stat"><div class="stat-icon">๐ก๏ธ</div><div class="stat-label">AC</div><div id="displayAC" class="stat-value">10</div></div>
ย ย ย ย ย ย ย ย <div class="combat-stat"><div class="stat-icon">๐</div><div class="stat-label">Vel</div><div id="displaySpeed" class="stat-value">30</div></div>
ย ย ย ย ย ย ย ย <div class="combat-stat"><div class="stat-icon">โก</div><div class="stat-label">Init</div><div id="displayInit" class="stat-value">+0</div></div>
ย ย ย ย ย ย </div>

ย ย ย ย ย ย <div class="detail-section full-width">
ย ย ย ย ย ย ย ย <div class="detail-panel">
ย ย ย ย ย ย ย ย ย ย <h3 class="section-subtitle">๐พ Tiradas de Salvaciรณn</h3>
ย ย ย ย ย ย ย ย ย ย <p id="displaySaves" class="trait-list-inline">โ</p>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <div class="detail-panel">
ย ย ย ย ย ย ย ย ย ย <h3 class="section-subtitle">๐ฏ Habilidades (Skills)</h3>
ย ย ย ย ย ย ย ย ย ย <p id="displaySkills" class="trait-list-inline">โ</p>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>

ย ย ย ย ย ย <div class="details-section">
ย ย ย ย ย ย ย ย <div class="detail-panel"><h3>๐ Equipo</h3><ul id="equipment" class="trait-list"></ul></div>
ย ย ย ย ย ย ย ย <div class="detail-panel"><h3>โจ Rasgos Raciales</h3><ul id="racialTraits" class="trait-list"></ul></div>
ย ย ย ย ย ย ย ย <div class="detail-panel"><h3>โ๏ธ Habilidades de Clase</h3><ul id="classFeatures" class="trait-list"></ul></div>
ย ย ย ย ย ย ย ย <div class="detail-panel background-panel">
ย ย ย ย ย ย ย ย ย ย <h3>๐ Trasfondo: <span id="backgroundName"></span></h3>
ย ย ย ย ย ย ย ย ย ย <p><strong>Rasgo:</strong> <span id="backgroundFeature"></span></p>
ย ย ย ย ย ย ย ย ย ย <p><strong>Equipo Extra:</strong> <ul id="backgroundEquipment" class="trait-list"></ul></p>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>

ย ย ย ย ย ย <div class="action-buttons">
ย ย ย ย ย ย ย ย <button id="downloadBtn" class="btn btn-primary">๐ PDF</button>
ย ย ย ย ย ย ย ย <button id="exportJSONBtn" class="btn btn-secondary">๐พ Guardar</button>
ย ย ย ย ย ย </div>
ย ย ย ย </div>

ย ย ย ย <div class="section-divider"><span class="divider-text">๐น ENCUENTROS Y BESTIARIO ๐น</span></div>

ย ย ย ย <section class="encounter-section generator-section">
ย ย ย ย ย ย <h2 class="section-title"><span class="title-decoration">๐ฒ</span> Generador de Encuentros <span class="title-decoration">๐ฒ</span></h2>
ย ย ย ย ย ย <div class="custom-panel">
ย ย ย ย ย ย ย ย <div class="custom-grid">
ย ย ย ย ย ย ย ย ย ย <div class="form-group"><label>Nivel Medio del Grupo</label><input type="number" id="partyLevel" min="1" max="20" value="3"></div>
ย ย ย ย ย ย ย ย ย ย <div class="form-group"><label>Tamaรฑo del Grupo</label><input type="number" id="partySize" min="1" max="10" value="4"></div>
ย ย ย ย ย ย ย ย ย ย <div class="form-group full-width"><label>Dificultad Deseada</label><select id="difficultySelect">
ย ย ย ย ย ย ย ย ย ย ย ย <option value="moderado" selected>Moderado</option>
ย ย ย ย ย ย ย ย ย ย ย ย <option value="facil">Fรกcil</option>
ย ย ย ย ย ย ย ย ย ย ย ย <option value="desafiante">Desafiante</option>
ย ย ย ย ย ย ย ย ย ย ย ย <option value="mortal">Mortal</option>
ย ย ย ย ย ย ย ย ย ย </select></div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <button id="generateEncounterBtn" class="btn btn-danger full-width">๐ฅ Generar Encuentro (API)</button>
ย ย ย ย ย ย </div>
ย ย ย ย ย ยย
ย ย ย ย ย ย <div id="encounterSheet" class="creature-sheet hidden">
ย ย ย ย ย ย ย ย <div class="sheet-header">
ย ย ย ย ย ย ย ย ย ย <h3 id="encounterName" class="character-name" style="font-size: 1.8rem;">Encuentro Generado</h3>
ย ย ย ย ย ย ย ย ย ย <div class="character-subtitle">
ย ย ย ย ย ย ย ย ย ย ย ย Dificultad: <strong id="encounterDifficulty">--</strong> | XP Total: <strong id="encounterXP">--</strong>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <div class="detail-panel">
ย ย ย ย ย ย ย ย ย ย <h3 class="section-subtitle">Lista de Monstruos</h3>
ย ย ย ย ย ย ย ย ย ย <ul id="encounterMonstersList" class="trait-list"></ul>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <div class="action-buttons">
ย ย ย ย ย ย ย ย ย ย <button id="newEncounterBtn" class="btn btn-secondary">โ Nuevo Encuentro</button>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย </section>


ย ย ย ย <section class="bestiary-section generator-section">
ย ย ย ย ย ย <h2 class="section-title"><span class="title-decoration">๐บ</span> Ficha de Monstruo <span class="title-decoration">๐บ</span></h2>
ย ย ย ย ย ย <div class="bestiary-controls">
ย ย ย ย ย ย ย ย <div class="controls-grid">
ย ย ย ย ย ย ย ย ย ย <button id="generateCreatureBtn" class="btn btn-danger">๐บ Monstruo Local</button>
ย ย ย ย ย ย ย ย ย ย <button id="generateFromAPIBtn" class="btn btn-gold">๐ก Monstruo API (Open5e)</button>
ย ย ย ย ย ย ย ย ย ย <button id="chaosBeastBtn" class="btn btn-accent">๐ Engendro Chaos</button>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>

ย ย ย ย ย ย <div id="creatureSheet" class="creature-sheet hidden">
ย ย ย ย ย ย ย ย <div class="sheet-header">
ย ย ย ย ย ย ย ย ย ย <h2 id="creatureName" class="character-name">Nombre de la Bestia</h2>
ย ย ย ย ย ย ย ย ย ย <div class="character-subtitle">
ย ย ย ย ย ย ย ย ย ย ย ย <span id="creatureType">Tipo</span> โข CR <span id="creatureCR">0</span> โข <span id="creatureXP">0 XP</span>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <div class="character-visual">
ย ย ย ย ย ย ย ย ย ย <div class="portrait-frame">
ย ย ย ย ย ย ย ย ย ย ย ย <img id="creaturePortrait" src="" alt="Bestia">
ย ย ย ย ย ย ย ย ย ย ย ย <button id="regenCreaturePortrait" class="regen-btn" title="Regenerar Imagen">๐</button>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย <div class="combat-stats-grid">
ย ย ย ย ย ย ย ย ย ย <div class="combat-stat"><div class="stat-label">AC</div><div id="creatureAC" class="stat-value">10</div></div>
ย ย ย ย ย ย ย ย ย ย <div class="combat-stat"><div class="stat-label">HP</div><div id="creatureHP" class="stat-value">10</div></div>
ย ย ย ย ย ย ย ย ย ย <div class="combat-stat"><div class="stat-label">VEL</div><div id="creatureSpeed" class="stat-value">30</div></div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย <div class="ability-scores-grid small-grid">
ย ย ย ย ย ย ย ย ย ย <div class="ability-shield"><small>FUE</small><div id="creatureStr">10</div></div>
ย ย ย ย ย ย ย ย ย ย <div class="ability-shield"><small>DES</small><div id="creatureDex">10</div></div>
ย ย ย ย ย ย ย ย ย ย <div class="ability-shield"><small>CON</small><div id="creatureCon">10</div></div>
ย ย ย ย ย ย ย ย ย ย <div class="ability-shield"><small>INT</small><div id="creatureInt">10</div></div>
ย ย ย ย ย ย ย ย ย ย <div class="ability-shield"><small>SAB</small><div id="creatureWis">10</div></div>
ย ย ย ย ย ย ย ย ย ย <div class="ability-shield"><small>CAR</small><div id="creatureCha">10</div></div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย <div class="details-section">
ย ย ย ย ย ย ย ย ย ย <div class="detail-panel">
ย ย ย ย ย ย ย ย ย ย ย ย <h3 class="section-subtitle">โ๏ธ Acciones</h3>
ย ย ย ย ย ย ย ย ย ย ย ย <ul id="creatureActions" class="trait-list"></ul>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย <div class="detail-panel">
ย ย ย ย ย ย ย ย ย ย ย ย <h3 class="section-subtitle">โจ Rasgos Especiales</h3>
ย ย ย ย ย ย ย ย ย ย ย ย <ul id="creatureTraits" class="trait-list"></ul>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย <div class="detail-panel">
ย ย ย ย ย ย ย ย ย ย ย ย <h3 class="section-subtitle">๐ Acciones Legendarias</h3>
ย ย ย ย ย ย ย ย ย ย ย ย <ul id="creatureLegendaryActions" class="trait-list"></ul>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย <div class="detail-panel">
ย ย ย ย ย ย ย ย ย ย ย ย <h3 class="section-subtitle">๐ก๏ธ Defensas</h3>
ย ย ย ย ย ย ย ย ย ย ย ย <p id="creatureDefenses" class="trait-list-inline">โ</p>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย <div class="detail-panel">
ย ย ย ย ย ย ย ย ย ย ย ย <h3 class="section-subtitle">๐ Ambiente</h3>
ย ย ย ย ย ย ย ย ย ย ย ย <p id="creatureEnvironment" class="trait-list-inline">โ</p>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย </div>

ย ย ย ย ย ย ย ย <div class="action-buttons">
ย ย ย ย ย ย ย ย ย ย <button id="hideCreatureBtn" class="btn btn-danger">๐ Ocultar Ficha</button> ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย </section>

ย ย </div>

ย ย <div id="historyModal" class="modal hidden">
ย ย ย ย <div class="modal-content">
ย ย ย ย ย ย <span class="close-modal">โ๏ธ</span>
ย ย ย ย ย ย <h2>๐ Historial de Personajes</h2>
ย ย ย ย ย ย <div id="historyList" class="history-list"></div>
ย ย ย ย </div>
ย ย </div>

ย ย <button id="historyBtn" class="floating-history-btn" title="Historial">๐</button>

ย ย <footer class="main-footer">
ย ย ย ย <p>โ๏ธ D&D Character Forge ยฉ 2025 ๐</p>
ย ย ย ย <p>Creado por Generador รpico | Integraciรณn con DnD5eAPI y Open5e.</p>
ย ย ย ย <button id="toggleTheme" class="theme-toggle">๐ Modo Oscuro</button>
ย ย </footer>

    <script src="dnd-data.js"></script>
    <script src="dnd-monsters.js"></script> <script src="dnd-apis.js"></script>
    <script src="bestiary.js"></script> <script src="app.js"></script>

</body>
</html>
